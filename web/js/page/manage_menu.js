function getTableData(e,t,n){var a={totalPage:0,totalCount:0,list:null};return $.ajax({type:"GET",async:!1,url:e+"/menu",headers:{token:t},dataType:"json",success:function(e){"200"==e.code||console.log(e.code)},error:function(e){console.log(e)}}),a}function getToken(){var e=(new Cookies).getChild("md_user","token");if(null!=e&&""!=e)return e;window.location.href="login.html"}$(function(){url="http://47.92.107.76/server",new Vue({el:"#menu",data:{user:{username:"",token:"",role:"",id:0},search:{page:0,size:10,memu_name:""},data:{totalPage:0,totalCount:0,list:null}},methods:{searchList:function(){var e=this;e.user.token=getToken(),e.search.memu_name=$.trim($("#menu-name").val()),e.data=getTableData(url,e.user.token,e.search)},addMenu:function(){this.user.token=getToken(),$("#com-layer-edit input.text-common").val(""),$("#com-layer-edit select.text-common").val("0"),$("#com-layer-edit input:radio").removeAttr("checked"),$("#com-layer-edit .text-area-common").val(""),$("#com-layer-edit").modal("show")},saveMenu:function(){this.user.token=getToken();$("#m-name").val(),$("#m-url").val(),$("#m-type").val(),$("#m-pid").val(),$("input[name=isUsed]:checked").val(),$("#m-sort").val(),$("#m-icon").val(),$()}},created:function(){var e=this,t=new Cookies;e.user.username=t.getChild("md_user","username"),null!=e.user.username&&""!=e.user.username?(e.user.token=t.getChild("md_user","token"),e.user.role=t.getChild("md_user","role"),e.user.id=parseInt(t.getChild("md_user","userid"))):window.location.href="login.html",e.data=getTableData(url,e.user.token,e.search)}})});